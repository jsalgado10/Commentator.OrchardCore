function AddArticleComment(n){console.log("Adding Article Comment");console.log("Content Id : "+n);editorType=="CKEditor"&&($("#txtArticleComment_"+n).val(editors[n].getData()),console.log(editors[n].getData()));var t="#newCommentForm_"+n,i=$(t).serialize();postArticleComment(i,n)}function postArticleComment(n,t){if($("#txtArticleComment_"+t).val().trim().length===0){swal("Please enter your comment","","error");return}console.log("Posting New Comment");$.post(newCommentLink,n).done(function(n){console.log("done");$("#new_comment").html(n);$("#divComments").load(commentsLink);swal("Thank you","Your Comment was submitted","success")}).fail(function(){console.log("fail");swal("Sorry!","Failed to add your comment","error")})}function AddNewCommentBox(n){console.log("Add New Comment Box");$("#new_comment_"+n).load(newCommentLink,function(){$("#new_comment_"+n+' input[name="CommentPost.CommentParent.Text"]').val(n)})}function CKEditorAddEmojis(n){var t=[];$.getJSON("/OrchardCore.Commentator/Assets/emoji.json",function(i){$.each(i,function(n,i){t.push({title:i.id.replace(":",""),character:i.symbol})});n.plugins.get("SpecialCharacters").addItems("Emoji",t)})}function SetCKEditor(n){var t="#txtArticleComment_"+n;ClassicEditor.create(document.querySelector(t),{toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo","alignment","code","codeBlock","fontSize","fontFamily","highlight","htmlEmbed","removeFormat","horizontalLine","specialCharacters","underline"]},language:"en",image:{toolbar:["imageTextAlternative","imageStyle:full","imageStyle:side"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},licenseKey:""}).then(t=>{console.log("Editor was initialized "+t),CKEditorAddEmojis(t),editors[n]=t}).catch(n=>{console.error(n)})}function SetEditorTrumbowyg(n){var t="#txtArticleComment_"+n;jQuery.noConflict();console.log("Setting editor");$(t).trumbowyg({btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["fontfamily"],["fontsize"],["emoji"],["giphy"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"]],plugins:{giphy:{apiKey:"E7juuZxJbM4GPJsbUVqtDCqyYEUIT32c",noResultGifUrl:"http://example.com/yourimage.gif"},fontsize:{allowCustomSize:!0}},autogrow:!0,urlProtocol:!0,minimalLinks:!0,tagsToRemove:["script","link"]});$(t).closest(".trumbowyg-box").css("min-height","50px");$(t).prev(".trumbowyg-editor").css("min-height","50px");console.log("Done Setting editor")}function ShowCommentReplies(n){console.log("show Comment replies");var t="#post-children-"+n,i="&OnlySubComments=True&ParentId="+n;$(t).load(commentsLink+i);console.log("done showing Comment replies")}function SetEditor(n){switch(editorType){case"Trumbowyg":SetEditorTrumbowyg(n);break;case"CKEditor":SetCKEditor(n);break;default:console.log("No Editor was Set")}}